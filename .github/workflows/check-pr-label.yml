name: Check PR Label
on:
 pull_request:
   types: [opened, labeled, unlabeled, synchronize]

jobs:
 check-label:
   runs-on: ubuntu-latest
   steps:
     - name: Check for required label
       run: |
         labels=$(gh pr view ${{ github.event.pull_request.number }} --json labels --jq '.labels[].name')
         if echo "$labels" | grep -qE "bug|feature|documentation"; then
           echo "✅ Required label found"
           exit 0
         else
           echo "❌ PR must have one of: bug, feature, documentation"
           exit 1
         fi
       env:
         GH_TOKEN: ${{ github.token }}
